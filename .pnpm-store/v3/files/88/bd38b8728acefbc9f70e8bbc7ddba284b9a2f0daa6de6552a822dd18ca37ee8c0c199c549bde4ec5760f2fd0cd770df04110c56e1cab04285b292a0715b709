{"version":3,"file":"context-utils.js","names":["createServerContext","name","defaultValue","globalThis","__SERVER_CONTEXT","React","createServerOrClientContext","createContext"],"sources":["../context-utils.js"],"sourcesContent":["import React from \"react\"\n\n// Ensure serverContext is not created more than once as React will throw when creating it more than once\n// https://github.com/facebook/react/blob/dd2d6522754f52c70d02c51db25eb7cbd5d1c8eb/packages/react/src/ReactServerContext.js#L101\nconst createServerContext = (name, defaultValue = null) => {\n  /* eslint-disable no-undef */\n  if (!globalThis.__SERVER_CONTEXT) {\n    globalThis.__SERVER_CONTEXT = {}\n  }\n\n  if (!globalThis.__SERVER_CONTEXT[name]) {\n    globalThis.__SERVER_CONTEXT[name] = React.createServerContext(\n      name,\n      defaultValue\n    )\n  }\n\n  return globalThis.__SERVER_CONTEXT[name]\n}\n\nfunction createServerOrClientContext(name, defaultValue) {\n  if (React.createServerContext) {\n    return createServerContext(name, defaultValue)\n  }\n\n  return React.createContext(defaultValue)\n}\n\nexport { createServerOrClientContext }\n"],"mappings":";;;;;AAAA;AAEA;AACA;AACA,MAAMA,mBAAmB,GAAG,CAACC,IAAI,EAAEC,YAAY,GAAG,IAAI,KAAK;EACzD;EACA,IAAI,CAACC,UAAU,CAACC,gBAAgB,EAAE;IAChCD,UAAU,CAACC,gBAAgB,GAAG,CAAC,CAAC;EAClC;EAEA,IAAI,CAACD,UAAU,CAACC,gBAAgB,CAACH,IAAI,CAAC,EAAE;IACtCE,UAAU,CAACC,gBAAgB,CAACH,IAAI,CAAC,GAAGI,cAAK,CAACL,mBAAmB,CAC3DC,IAAI,EACJC,YAAY,CACb;EACH;EAEA,OAAOC,UAAU,CAACC,gBAAgB,CAACH,IAAI,CAAC;AAC1C,CAAC;AAED,SAASK,2BAA2B,CAACL,IAAI,EAAEC,YAAY,EAAE;EACvD,IAAIG,cAAK,CAACL,mBAAmB,EAAE;IAC7B,OAAOA,mBAAmB,CAACC,IAAI,EAAEC,YAAY,CAAC;EAChD;EAEA,oBAAOG,cAAK,CAACE,aAAa,CAACL,YAAY,CAAC;AAC1C"}