{"version":3,"file":"static-query.js","names":["StaticQueryContext","createServerOrClientContext","StaticQueryDataRenderer","staticQueryData","data","query","render","finalData","warnedAboutStaticQuery","StaticQuery","props","children","process","env","NODE_ENV","console","warn","propTypes","PropTypes","object","string","isRequired","func","useStaticQuery","React","useContext","Error","context","isNaN","Number"],"sources":["../static-query.js"],"sourcesContent":["import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport { createServerOrClientContext } from \"./context-utils\"\n\nconst StaticQueryContext = createServerOrClientContext(`StaticQuery`, {})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nlet warnedAboutStaticQuery = false\n\n// TODO(v6): Remove completely\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  if (process.env.NODE_ENV === `development` && !warnedAboutStaticQuery) {\n    console.warn(\n      `The <StaticQuery /> component is deprecated and will be removed in Gatsby v6. Use useStaticQuery instead. Refer to the migration guide for more information: https://gatsby.dev/migrating-4-to-5/#staticquery--is-deprecated`\n    )\n    warnedAboutStaticQuery = true\n  }\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    // TODO(v5): Remove since we require React >= 18\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n\n  const context = React.useContext(StaticQueryContext)\n\n  // query is a stringified number like `3303882` when wrapped with graphql, If a user forgets\n  // to wrap the query in a grqphql, then casting it to a Number results in `NaN` allowing us to\n  // catch the misuse of the API and give proper direction\n  if (isNaN(Number(query))) {\n    throw new Error(`useStaticQuery was called with a string but expects to be called using \\`graphql\\`. Try this:\n\nimport { useStaticQuery, graphql } from 'gatsby';\n\nuseStaticQuery(graphql\\`${query}\\`);\n`)\n  }\n\n  if (context[query]?.data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nexport { StaticQuery, StaticQueryContext, useStaticQuery }\n"],"mappings":";;;;;AAAA;AACA;AACA;AAEA,MAAMA,kBAAkB,GAAG,IAAAC,yCAA2B,EAAE,aAAY,EAAE,CAAC,CAAC,CAAC;AAAA;AAEzE,SAASC,uBAAuB,CAAC;EAAEC,eAAe;EAAEC,IAAI;EAAEC,KAAK;EAAEC;AAAO,CAAC,EAAE;EACzE,MAAMC,SAAS,GAAGH,IAAI,GAClBA,IAAI,CAACA,IAAI,GACTD,eAAe,CAACE,KAAK,CAAC,IAAIF,eAAe,CAACE,KAAK,CAAC,CAACD,IAAI;EAEzD,oBACE,6BAAC,cAAK,CAAC,QAAQ,QACZG,SAAS,IAAID,MAAM,CAACC,SAAS,CAAC,EAC9B,CAACA,SAAS,iBAAI,0CAAK,uBAAqB,CAAM,CAChC;AAErB;AAEA,IAAIC,sBAAsB,GAAG,KAAK;;AAElC;AACA,MAAMC,WAAW,GAAGC,KAAK,IAAI;EAC3B,MAAM;IAAEN,IAAI;IAAEC,KAAK;IAAEC,MAAM;IAAEK;EAAS,CAAC,GAAGD,KAAK;EAE/C,IAAIE,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAM,aAAY,IAAI,CAACN,sBAAsB,EAAE;IACrEO,OAAO,CAACC,IAAI,CACT,8NAA6N,CAC/N;IACDR,sBAAsB,GAAG,IAAI;EAC/B;EAEA,oBACE,6BAAC,kBAAkB,CAAC,QAAQ,QACzBL,eAAe,iBACd,6BAAC,uBAAuB;IACtB,IAAI,EAAEC,IAAK;IACX,KAAK,EAAEC,KAAM;IACb,MAAM,EAAEC,MAAM,IAAIK,QAAS;IAC3B,eAAe,EAAER;EAAgB,EAEpC,CAC2B;AAElC,CAAC;AAAA;AAEDM,WAAW,CAACQ,SAAS,GAAG;EACtBb,IAAI,EAAEc,kBAAS,CAACC,MAAM;EACtBd,KAAK,EAAEa,kBAAS,CAACE,MAAM,CAACC,UAAU;EAClCf,MAAM,EAAEY,kBAAS,CAACI,IAAI;EACtBX,QAAQ,EAAEO,kBAAS,CAACI;AACtB,CAAC;AAED,MAAMC,cAAc,GAAGlB,KAAK,IAAI;EAAA;EAC9B,IACE,OAAOmB,cAAK,CAACC,UAAU,KAAM,UAAS,IACtCb,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAM,aAAY,EACtC;IACA;IACA,MAAM,IAAIY,KAAK,CACZ,qEAAoE,GAClE,qFAAoF,CACxF;EACH;EAEA,MAAMC,OAAO,GAAGH,cAAK,CAACC,UAAU,CAACzB,kBAAkB,CAAC;;EAEpD;EACA;EACA;EACA,IAAI4B,KAAK,CAACC,MAAM,CAACxB,KAAK,CAAC,CAAC,EAAE;IACxB,MAAM,IAAIqB,KAAK,CAAE;AACrB;AACA;AACA;AACA,0BAA0BrB,KAAM;AAChC,CAAC,CAAC;EACA;EAEA,sBAAIsB,OAAO,CAACtB,KAAK,CAAC,2CAAd,eAAgBD,IAAI,EAAE;IACxB,OAAOuB,OAAO,CAACtB,KAAK,CAAC,CAACD,IAAI;EAC5B,CAAC,MAAM;IACL,MAAM,IAAIsB,KAAK,CACZ,0DAAyD,GACvD,6EAA4E,GAC5E,mEAAkE,CACtE;EACH;AACF,CAAC;AAAA"}