"use client"
var t=require("react"),e=require("@gatsbyjs/reach-router");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=/*#__PURE__*/r(t);function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a.apply(this,arguments)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=new Map,u={get:function(t){return c.get(t)||[]},set:function(t,e){var r=c.get(t)||[];r.push(e),c.set(t,r)},delete:function(t){c.delete(t)}},s="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(t){var e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};exports.ScriptStrategy=void 0,(i=exports.ScriptStrategy||(exports.ScriptStrategy={})).postHydrate="post-hydrate",i.idle="idle",i.offMainThread="off-main-thread";var d=new Set(["src","strategy","dangerouslySetInnerHTML","children","onLoad","onError"]),f=new Set,p=new Map;function v(r){var o=r||{},l=o.src,i=o.strategy,c=void 0===i?exports.ScriptStrategy.postHydrate:i,d=e.useLocation().pathname;if(t.useEffect(function(){var t;switch(c){case exports.ScriptStrategy.postHydrate:t=y(r);break;case exports.ScriptStrategy.idle:s(function(){t=y(r)});break;case exports.ScriptStrategy.offMainThread:var e=b(r);u.set(d,e)}return function(){var e=t||{},r=e.script,n=e.loadCallback,a=e.errorCallback;n&&(null==r||r.removeEventListener("load",n)),a&&(null==r||r.removeEventListener("error",a)),null==r||r.remove()}},[]),c===exports.ScriptStrategy.offMainThread){var f=g(r),p=b(r);return"undefined"==typeof window&&u.set(d,p),/*#__PURE__*/n.default.createElement("script",f?a({type:"text/partytown","data-strategy":c,crossOrigin:"anonymous"},p,{dangerouslySetInnerHTML:{__html:g(r)}}):a({type:"text/partytown",src:h(l),"data-strategy":c,crossOrigin:"anonymous"},p))}return null}function y(t){var e=t||{},r=e.id,n=e.src,o=e.strategy,i=void 0===o?exports.ScriptStrategy.postHydrate:o,c=r||n,u=["load","error"],s={load:e.onLoad,error:e.onError};if(c){for(var d,v=l(u);!(d=v()).done;){var y=d.value;if(null!=s&&s[y]){var h,m,S,x,w=p.get(c)||{},C=((null==w?void 0:w[y])||{}).callbacks,k=void 0===C?[]:C;k.push(null==s?void 0:s[y]),null!=w&&null!=(h=w[y])&&h.event?null==s||null==(m=s[y])||m.call(s,null==w||null==(S=w[y])?void 0:S.event):p.set(c,a({},w,((x={})[y]={callbacks:k},x)))}}if(f.has(c))return null}var E=g(t),j=b(t),L=document.createElement("script");r&&(L.id=r),L.dataset.strategy=i;for(var M=0,O=Object.entries(j);M<O.length;M++){var I=O[M];L.setAttribute(I[0],I[1])}E&&(L.textContent=E),n&&(L.src=n);var T={};if(c){for(var A,H=function(){var t=A.value,e=function(e){return function(t,e,r){for(var n,a,o=p.get(e)||{},i=l((null==o||null==(c=o[r])?void 0:c.callbacks)||[]);!(a=i()).done;){var c;(0,a.value)(t)}p.set(e,((n={})[r]={event:t},n))}(e,c,t)};L.addEventListener(t,e),T[t+"Callback"]=e},_=l(u);!(A=_()).done;)H();f.add(c)}return document.body.appendChild(L),{script:L,loadCallback:T.loadCallback,errorCallback:T.errorCallback}}function g(t){var e=t||{},r=e.children,n=(e.dangerouslySetInnerHTML||{}).__html;return(void 0===n?"":n)||(void 0===r?"":r)}function b(t){for(var e={},r=0,n=Object.entries(t);r<n.length;r++){var a=n[r],o=a[0],l=a[1];d.has(o)||(e[o]=l)}return e}function h(t){if(t)return"/__third-party-proxy?url="+encodeURIComponent(t)}exports.Script=function(t){/*#__PURE__*/return n.default.createElement(e.Location,null,function(){/*#__PURE__*/return n.default.createElement(v,t)})},exports.collectedScriptsByPage=u,exports.scriptCache=f,exports.scriptCallbackCache=p;
//# sourceMappingURL=index.js.map
