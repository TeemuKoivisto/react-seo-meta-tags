{"version":3,"file":"remote-file-interface.js","names":["addRemoteFileInterfaceFields","schemaComposer","typeComposer","remoteFileInterfaceType","getOrCreateRemoteFileInterface","addFields","getFields","enums","getRemoteFileEnums","createEnumTC","bind","getOrCreateOTC","tc","width","height","src","getOrCreateIFTC","setDescription","boundActions","bindActionCreators","actions","store","dispatch","getRemoteFileFields"],"sources":["../../../src/schema/types/remote-file-interface.ts"],"sourcesContent":["import {\n  SchemaComposer,\n  ObjectTypeComposer,\n  InterfaceTypeComposer,\n} from \"graphql-compose\"\nimport { bindActionCreators } from \"redux\"\nimport { store } from \"../../redux/index\"\nimport { actions } from \"../../redux/actions/index\"\nimport {\n  getRemoteFileEnums,\n  getRemoteFileFields,\n} from \"gatsby-plugin-utils/polyfill-remote-file\"\n\nexport function addRemoteFileInterfaceFields<TContext = unknown>(\n  schemaComposer: SchemaComposer<unknown>,\n  typeComposer: ObjectTypeComposer<unknown, TContext>\n): void {\n  const remoteFileInterfaceType = getOrCreateRemoteFileInterface(schemaComposer)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  typeComposer.addFields(remoteFileInterfaceType.getFields() as any)\n}\n\nexport function getOrCreateRemoteFileInterface(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  schemaComposer: SchemaComposer<any>\n): InterfaceTypeComposer {\n  const enums = getRemoteFileEnums(\n    schemaComposer.createEnumTC.bind(schemaComposer)\n  )\n\n  schemaComposer.getOrCreateOTC(`RemoteFileResize`, tc => {\n    tc.addFields({\n      width: `Int`,\n      height: `Int`,\n      src: `String`,\n    })\n  })\n\n  return schemaComposer.getOrCreateIFTC(`RemoteFile`, tc => {\n    tc.setDescription(`Remote Interface`)\n\n    const boundActions = bindActionCreators(actions, store.dispatch)\n\n    // @ts-ignore - types are messed up by schema composer maybe new version helps here\n    tc.addFields(getRemoteFileFields(enums, boundActions, store))\n  })\n}\n"],"mappings":";;;;;AAKA;AACA;AACA;AACA;AAKO,SAASA,4BAA4B,CAC1CC,cAAuC,EACvCC,YAAmD,EAC7C;EACN,MAAMC,uBAAuB,GAAGC,8BAA8B,CAACH,cAAc,CAAC;EAC9E;EACAC,YAAY,CAACG,SAAS,CAACF,uBAAuB,CAACG,SAAS,EAAE,CAAQ;AACpE;AAEO,SAASF,8BAA8B;AAC5C;AACAH,cAAmC,EACZ;EACvB,MAAMM,KAAK,GAAG,IAAAC,sCAAkB,EAC9BP,cAAc,CAACQ,YAAY,CAACC,IAAI,CAACT,cAAc,CAAC,CACjD;EAEDA,cAAc,CAACU,cAAc,CAAE,kBAAiB,EAAEC,EAAE,IAAI;IACtDA,EAAE,CAACP,SAAS,CAAC;MACXQ,KAAK,EAAG,KAAI;MACZC,MAAM,EAAG,KAAI;MACbC,GAAG,EAAG;IACR,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAOd,cAAc,CAACe,eAAe,CAAE,YAAW,EAAEJ,EAAE,IAAI;IACxDA,EAAE,CAACK,cAAc,CAAE,kBAAiB,CAAC;IAErC,MAAMC,YAAY,GAAG,IAAAC,yBAAkB,EAACC,eAAO,EAAEC,YAAK,CAACC,QAAQ,CAAC;;IAEhE;IACAV,EAAE,CAACP,SAAS,CAAC,IAAAkB,uCAAmB,EAAChB,KAAK,EAAEW,YAAY,EAAEG,YAAK,CAAC,CAAC;EAC/D,CAAC,CAAC;AACJ"}