{"version":3,"file":"use-id.js","names":["setupGetInstanceId","instanceId","getInstanceId","getId","useIsomorphicLayoutEffect","canUseDOM","React","useLayoutEffect","useEffect","window","document","createElement","serverHandoffCompleted","useId","prefix","id","setId","useState"],"sources":["../../../fast-refresh-overlay/components/use-id.js"],"sourcesContent":["// Copied from https://github.com/carbon-design-system/carbon\n// License: Apache-2.0\n// Copyright IBM Corp. 2016, 2018\n// Entrypoint: packages/react/src/internal/useId.js\n\nfunction setupGetInstanceId() {\n  let instanceId = 0\n  return function getInstanceId() {\n    return ++instanceId\n  }\n}\n\nimport * as React from \"react\"\n\nconst getId = setupGetInstanceId()\nconst useIsomorphicLayoutEffect = canUseDOM()\n  ? React.useLayoutEffect\n  : React.useEffect\n\nfunction canUseDOM() {\n  return !!(\n    typeof window !== `undefined` &&\n    window.document &&\n    window.document.createElement\n  )\n}\n\nlet serverHandoffCompleted = false\n\n/**\n * Generate a unique ID with an optional prefix prepended to it\n * @param {string} [prefix]\n * @returns {string}\n */\nexport function useId(prefix = `id`) {\n  const [id, setId] = React.useState(() => {\n    if (serverHandoffCompleted) {\n      return `${prefix}-${getId()}`\n    }\n    return null\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (id === null) {\n      setId(`${prefix}-${getId()}`)\n    }\n  }, [getId])\n\n  React.useEffect(() => {\n    if (serverHandoffCompleted === false) {\n      serverHandoffCompleted = true\n    }\n  }, [])\n\n  return id\n}\n"],"mappings":";;;;AAYA;AAA8B;AAAA;AAZ9B;AACA;AACA;AACA;;AAEA,SAASA,kBAAkB,GAAG;EAC5B,IAAIC,UAAU,GAAG,CAAC;EAClB,OAAO,SAASC,aAAa,GAAG;IAC9B,OAAO,EAAED,UAAU;EACrB,CAAC;AACH;AAIA,MAAME,KAAK,GAAGH,kBAAkB,EAAE;AAClC,MAAMI,yBAAyB,GAAGC,SAAS,EAAE,GACzCC,KAAK,CAACC,eAAe,GACrBD,KAAK,CAACE,SAAS;AAEnB,SAASH,SAAS,GAAG;EACnB,OAAO,CAAC,EACN,OAAOI,MAAM,KAAM,WAAU,IAC7BA,MAAM,CAACC,QAAQ,IACfD,MAAM,CAACC,QAAQ,CAACC,aAAa,CAC9B;AACH;AAEA,IAAIC,sBAAsB,GAAG,KAAK;;AAElC;AACA;AACA;AACA;AACA;AACO,SAASC,KAAK,CAACC,MAAM,GAAI,IAAG,EAAE;EACnC,MAAM,CAACC,EAAE,EAAEC,KAAK,CAAC,GAAGV,KAAK,CAACW,QAAQ,CAAC,MAAM;IACvC,IAAIL,sBAAsB,EAAE;MAC1B,OAAQ,GAAEE,MAAO,IAAGX,KAAK,EAAG,EAAC;IAC/B;IACA,OAAO,IAAI;EACb,CAAC,CAAC;EAEFC,yBAAyB,CAAC,MAAM;IAC9B,IAAIW,EAAE,KAAK,IAAI,EAAE;MACfC,KAAK,CAAE,GAAEF,MAAO,IAAGX,KAAK,EAAG,EAAC,CAAC;IAC/B;EACF,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEXG,KAAK,CAACE,SAAS,CAAC,MAAM;IACpB,IAAII,sBAAsB,KAAK,KAAK,EAAE;MACpCA,sBAAsB,GAAG,IAAI;IAC/B;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOG,EAAE;AACX"}