{"version":3,"file":"getserverdata-error.js","names":["filePathRegex","GetServerDataError","error","stacktrace","stack","info","find","CallSite","fileName","filePath","exec","lineNumber","columnNumber","name","functionName","res","useFileCodeFrame","openInEditor","context","sourceMessage","decoded"],"sources":["../../../fast-refresh-overlay/components/getserverdata-error.js"],"sourcesContent":["import * as React from \"react\"\nimport { Overlay, Header, HeaderOpenClose, Body, Footer } from \"./overlay\"\nimport { useFileCodeFrame } from \"./hooks\"\nimport { CodeFrame } from \"./code-frame\"\nimport { openInEditor } from \"../utils\"\n\nconst filePathRegex = /webpack:\\/[^/]+\\/(.*)$/\n\nexport function GetServerDataError({ error }) {\n  const stacktrace = error.stack\n  const info = stacktrace.find(CallSite => CallSite.fileName)\n  const filePath = `./${filePathRegex.exec(info?.fileName)[1]}`\n  const lineNumber = info?.lineNumber\n  const columnNumber = info?.columnNumber\n  const name =\n    info?.functionName === `Module.getServerData`\n      ? `getServerData`\n      : info?.functionName\n\n  const res = useFileCodeFrame({ filePath, lineNumber, columnNumber })\n\n  return (\n    <Overlay>\n      <Header data-gatsby-error-type=\"build-error\">\n        <div data-gatsby-overlay=\"header__cause-file\">\n          <h1 id=\"gatsby-overlay-labelledby\">Unhandled getServerData Error</h1>\n          <span>{filePath}</span>\n        </div>\n        <HeaderOpenClose\n          dismiss={false}\n          open={() => openInEditor(filePath, lineNumber)}\n        />\n      </Header>\n      <Body>\n        <h2>Error Message</h2>\n        <p data-gatsby-overlay=\"body__error-message\">\n          {error?.context?.sourceMessage}\n        </p>\n        <h2>Source</h2>\n        {filePath && (\n          <div data-gatsby-overlay=\"codeframe__top\">\n            Function {name} in {filePath}:{lineNumber}\n          </div>\n        )}\n        <CodeFrame decoded={res.decoded} />\n        <Footer id=\"gatsby-overlay-describedby\">\n          This error occured in the getServerData function and can only be\n          dismissed by fixing the error or adding error handling.\n        </Footer>\n      </Body>\n    </Overlay>\n  )\n}\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AAAuC;AAAA;AAEvC,MAAMA,aAAa,GAAG,wBAAwB;AAEvC,SAASC,kBAAkB,CAAC;EAAEC;AAAM,CAAC,EAAE;EAAA;EAC5C,MAAMC,UAAU,GAAGD,KAAK,CAACE,KAAK;EAC9B,MAAMC,IAAI,GAAGF,UAAU,CAACG,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,QAAQ,CAAC;EAC3D,MAAMC,QAAQ,GAAI,KAAIT,aAAa,CAACU,IAAI,CAACL,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,QAAQ,CAAC,CAAC,CAAC,CAAE,EAAC;EAC7D,MAAMG,UAAU,GAAGN,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEM,UAAU;EACnC,MAAMC,YAAY,GAAGP,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEO,YAAY;EACvC,MAAMC,IAAI,GACR,CAAAR,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,YAAY,MAAM,sBAAqB,GACxC,eAAc,GACfT,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAES,YAAY;EAExB,MAAMC,GAAG,GAAG,IAAAC,uBAAgB,EAAC;IAAEP,QAAQ;IAAEE,UAAU;IAAEC;EAAa,CAAC,CAAC;EAEpE,oBACE,oBAAC,gBAAO,qBACN,oBAAC,eAAM;IAAC,0BAAuB;EAAa,gBAC1C;IAAK,uBAAoB;EAAoB,gBAC3C;IAAI,EAAE,EAAC;EAA2B,GAAC,+BAA6B,CAAK,eACrE,kCAAOH,QAAQ,CAAQ,CACnB,eACN,oBAAC,wBAAe;IACd,OAAO,EAAE,KAAM;IACf,IAAI,EAAE,MAAM,IAAAQ,mBAAY,EAACR,QAAQ,EAAEE,UAAU;EAAE,EAC/C,CACK,eACT,oBAAC,aAAI,qBACH,gCAAI,eAAa,CAAK,eACtB;IAAG,uBAAoB;EAAqB,GACzCT,KAAK,aAALA,KAAK,yCAALA,KAAK,CAAEgB,OAAO,mDAAd,eAAgBC,aAAa,CAC5B,eACJ,gCAAI,QAAM,CAAK,EACdV,QAAQ,iBACP;IAAK,uBAAoB;EAAgB,GAAC,WAC/B,EAACI,IAAI,EAAC,MAAI,EAACJ,QAAQ,EAAC,GAAC,EAACE,UAAU,CAE5C,eACD,oBAAC,oBAAS;IAAC,OAAO,EAAEI,GAAG,CAACK;EAAQ,EAAG,eACnC,oBAAC,eAAM;IAAC,EAAE,EAAC;EAA4B,GAAC,0HAGxC,CAAS,CACJ,CACC;AAEd"}