{"version":3,"file":"build-schema.js","names":["buildSchema","parentSpan","refresh","Boolean","process","env","GATSBY_EXPERIMENTAL_DISABLE_SCHEMA_REBUILD","activity","reporter","activityTimer","start","build","span","end"],"sources":["../../src/services/build-schema.ts"],"sourcesContent":["import { build } from \"../schema\"\nimport reporter from \"gatsby-cli/lib/reporter\"\nimport { IDataLayerContext } from \"../state-machines/data-layer/types\"\n\nexport async function buildSchema({\n  parentSpan,\n  refresh,\n}: Partial<IDataLayerContext>): Promise<void> {\n  if (\n    refresh &&\n    Boolean(process.env.GATSBY_EXPERIMENTAL_DISABLE_SCHEMA_REBUILD)\n  ) {\n    return\n  }\n  const activity = reporter.activityTimer(`building schema`, {\n    parentSpan,\n  })\n  activity.start()\n  await build({ parentSpan: activity.span })\n  activity.end()\n}\n"],"mappings":";;;;;AAAA;AACA;AAGO,eAAeA,WAAW,CAAC;EAChCC,UAAU;EACVC;AAC0B,CAAC,EAAiB;EAC5C,IACEA,OAAO,IACPC,OAAO,CAACC,OAAO,CAACC,GAAG,CAACC,0CAA0C,CAAC,EAC/D;IACA;EACF;EACA,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,aAAa,CAAE,iBAAgB,EAAE;IACzDR;EACF,CAAC,CAAC;EACFM,QAAQ,CAACG,KAAK,EAAE;EAChB,MAAM,IAAAC,aAAK,EAAC;IAAEV,UAAU,EAAEM,QAAQ,CAACK;EAAK,CAAC,CAAC;EAC1CL,QAAQ,CAACM,GAAG,EAAE;AAChB"}