{"version":3,"file":"client-components-requires-writer-loader.js","names":["Template","require","module","exports","virtual","modules","getOptions","requests","split","code","filter","Boolean","map","request","chunkName","toPath","JSON","stringify","join"],"sources":["../../../../src/utils/webpack/loaders/client-components-requires-writer-loader.ts"],"sourcesContent":["import { LoaderContext } from \"webpack\"\n\nconst Template = require(`webpack/lib/Template`)\n\n/**\n * Loader that creates virtual file with imports to client components\n */\nmodule.exports = function virtual(\n  this: LoaderContext<{\n    modules: string\n  }>\n): string {\n  const { modules } = this.getOptions()\n\n  const requests = modules.split(`,`)\n\n  const code = requests\n    .filter(Boolean)\n    // Filter out css files on the server\n    .map(request => {\n      const chunkName = Template.toPath(request)\n\n      return `import(/* webpackChunkName: \"${chunkName}\" */ ${JSON.stringify(\n        request\n      )})`\n    })\n    .join(`;\\n`)\n\n  return code\n}\n"],"mappings":";;;AAEA,MAAMA,QAAQ,GAAGC,OAAO,CAAE,sBAAqB,CAAC;;AAEhD;AACA;AACA;AACAC,MAAM,CAACC,OAAO,GAAG,SAASC,OAAO,GAIvB;EACR,MAAM;IAAEC;EAAQ,CAAC,GAAG,IAAI,CAACC,UAAU,EAAE;EAErC,MAAMC,QAAQ,GAAGF,OAAO,CAACG,KAAK,CAAE,GAAE,CAAC;EAEnC,MAAMC,IAAI,GAAGF,QAAQ,CAClBG,MAAM,CAACC,OAAO;EACf;EAAA,CACCC,GAAG,CAACC,OAAO,IAAI;IACd,MAAMC,SAAS,GAAGd,QAAQ,CAACe,MAAM,CAACF,OAAO,CAAC;IAE1C,OAAQ,gCAA+BC,SAAU,QAAOE,IAAI,CAACC,SAAS,CACpEJ,OAAO,CACP,GAAE;EACN,CAAC,CAAC,CACDK,IAAI,CAAE,KAAI,CAAC;EAEd,OAAOT,IAAI;AACb,CAAC"}