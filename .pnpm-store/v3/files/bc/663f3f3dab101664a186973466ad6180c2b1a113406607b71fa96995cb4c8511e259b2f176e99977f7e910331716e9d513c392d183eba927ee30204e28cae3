{"version":3,"file":"run-static-queries.js","names":["runStaticQueries","parentSpan","queryIds","store","program","graphqlRunner","assertStore","staticQueryIds","length","state","getState","activity","reporter","createProgress","id","processStaticQueries","graphqlTracing"],"sources":["../../src/services/run-static-queries.ts"],"sourcesContent":["import { processStaticQueries } from \"../query\"\nimport reporter from \"gatsby-cli/lib/reporter\"\nimport { IQueryRunningContext } from \"../state-machines/query-running/types\"\nimport { assertStore } from \"../utils/assert-store\"\n\nexport async function runStaticQueries({\n  parentSpan,\n  queryIds,\n  store,\n  program,\n  graphqlRunner,\n}: Partial<IQueryRunningContext>): Promise<void> {\n  assertStore(store)\n\n  if (!queryIds) {\n    return\n  }\n  const { staticQueryIds } = queryIds\n  if (!staticQueryIds.length) {\n    return\n  }\n\n  const state = store.getState()\n  const activity = reporter.createProgress(\n    `run static queries`,\n    staticQueryIds.length,\n    0,\n    {\n      id: `static-query-running`,\n      parentSpan,\n    }\n  )\n\n  await processStaticQueries(staticQueryIds, {\n    state,\n    activity,\n    graphqlRunner,\n    graphqlTracing: program?.graphqlTracing,\n  })\n}\n"],"mappings":";;;;;AAAA;AACA;AAEA;AAEO,eAAeA,gBAAgB,CAAC;EACrCC,UAAU;EACVC,QAAQ;EACRC,KAAK;EACLC,OAAO;EACPC;AAC6B,CAAC,EAAiB;EAC/C,IAAAC,wBAAW,EAACH,KAAK,CAAC;EAElB,IAAI,CAACD,QAAQ,EAAE;IACb;EACF;EACA,MAAM;IAAEK;EAAe,CAAC,GAAGL,QAAQ;EACnC,IAAI,CAACK,cAAc,CAACC,MAAM,EAAE;IAC1B;EACF;EAEA,MAAMC,KAAK,GAAGN,KAAK,CAACO,QAAQ,EAAE;EAC9B,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,cAAc,CACrC,oBAAmB,EACpBN,cAAc,CAACC,MAAM,EACrB,CAAC,EACD;IACEM,EAAE,EAAG,sBAAqB;IAC1Bb;EACF,CAAC,CACF;EAED,MAAM,IAAAc,2BAAoB,EAACR,cAAc,EAAE;IACzCE,KAAK;IACLE,QAAQ;IACRN,aAAa;IACbW,cAAc,EAAEZ,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEY;EAC3B,CAAC,CAAC;AACJ"}