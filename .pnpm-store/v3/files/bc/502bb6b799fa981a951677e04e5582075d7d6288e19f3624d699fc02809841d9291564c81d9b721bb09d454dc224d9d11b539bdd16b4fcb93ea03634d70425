{"version":3,"file":"pending-page-data-writes.js","names":["pendingPageDataWritesReducer","state","pagePaths","Set","sliceNames","action","type","componentModified","slicesModified","add","payload","path","name","page","pages","delete"],"sources":["../../../src/redux/reducers/pending-page-data-writes.ts"],"sourcesContent":["import { ActionsUnion, IGatsbyState } from \"../types\"\n\nexport const pendingPageDataWritesReducer = (\n  state: IGatsbyState[\"pendingPageDataWrites\"] = {\n    pagePaths: new Set(),\n    sliceNames: new Set(),\n  },\n  action: ActionsUnion\n): IGatsbyState[\"pendingPageDataWrites\"] => {\n  switch (action.type) {\n    case `DELETE_CACHE`: {\n      return {\n        pagePaths: new Set(),\n        sliceNames: new Set(),\n      }\n    }\n    case `CREATE_PAGE`:\n      if (action.componentModified || action.slicesModified) {\n        state.pagePaths.add(action.payload.path)\n      }\n\n      return state\n\n    case `CREATE_SLICE`: {\n      if (action.componentModified) {\n        state.sliceNames.add(action.payload.name)\n      }\n\n      return state\n    }\n\n    case `ADD_PENDING_PAGE_DATA_WRITE`:\n      state.pagePaths.add(action.payload.path)\n      return state\n\n    case `ADD_PENDING_SLICE_DATA_WRITE`: {\n      state.sliceNames.add(action.payload.name)\n      return state\n    }\n\n    case `ADD_PENDING_TEMPLATE_DATA_WRITE`: {\n      for (const page of action.payload.pages) {\n        state.pagePaths.add(page)\n      }\n\n      return state\n    }\n\n    case `ADD_PENDING_SLICE_TEMPLATE_DATA_WRITE`: {\n      for (const name of action.payload.sliceNames) {\n        state.sliceNames.add(name)\n      }\n\n      return state\n    }\n\n    case `CLEAR_PENDING_PAGE_DATA_WRITE`: {\n      state.pagePaths.delete(action.payload.page)\n      return state\n    }\n\n    case `CLEAR_PENDING_SLICE_DATA_WRITE`: {\n      state.sliceNames.delete(action.payload.name)\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n"],"mappings":";;;;AAEO,MAAMA,4BAA4B,GAAG,CAC1CC,KAA4C,GAAG;EAC7CC,SAAS,EAAE,IAAIC,GAAG,EAAE;EACpBC,UAAU,EAAE,IAAID,GAAG;AACrB,CAAC,EACDE,MAAoB,KACsB;EAC1C,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAM,cAAa;MAAE;QACnB,OAAO;UACLJ,SAAS,EAAE,IAAIC,GAAG,EAAE;UACpBC,UAAU,EAAE,IAAID,GAAG;QACrB,CAAC;MACH;IACA,KAAM,aAAY;MAChB,IAAIE,MAAM,CAACE,iBAAiB,IAAIF,MAAM,CAACG,cAAc,EAAE;QACrDP,KAAK,CAACC,SAAS,CAACO,GAAG,CAACJ,MAAM,CAACK,OAAO,CAACC,IAAI,CAAC;MAC1C;MAEA,OAAOV,KAAK;IAEd,KAAM,cAAa;MAAE;QACnB,IAAII,MAAM,CAACE,iBAAiB,EAAE;UAC5BN,KAAK,CAACG,UAAU,CAACK,GAAG,CAACJ,MAAM,CAACK,OAAO,CAACE,IAAI,CAAC;QAC3C;QAEA,OAAOX,KAAK;MACd;IAEA,KAAM,6BAA4B;MAChCA,KAAK,CAACC,SAAS,CAACO,GAAG,CAACJ,MAAM,CAACK,OAAO,CAACC,IAAI,CAAC;MACxC,OAAOV,KAAK;IAEd,KAAM,8BAA6B;MAAE;QACnCA,KAAK,CAACG,UAAU,CAACK,GAAG,CAACJ,MAAM,CAACK,OAAO,CAACE,IAAI,CAAC;QACzC,OAAOX,KAAK;MACd;IAEA,KAAM,iCAAgC;MAAE;QACtC,KAAK,MAAMY,IAAI,IAAIR,MAAM,CAACK,OAAO,CAACI,KAAK,EAAE;UACvCb,KAAK,CAACC,SAAS,CAACO,GAAG,CAACI,IAAI,CAAC;QAC3B;QAEA,OAAOZ,KAAK;MACd;IAEA,KAAM,uCAAsC;MAAE;QAC5C,KAAK,MAAMW,IAAI,IAAIP,MAAM,CAACK,OAAO,CAACN,UAAU,EAAE;UAC5CH,KAAK,CAACG,UAAU,CAACK,GAAG,CAACG,IAAI,CAAC;QAC5B;QAEA,OAAOX,KAAK;MACd;IAEA,KAAM,+BAA8B;MAAE;QACpCA,KAAK,CAACC,SAAS,CAACa,MAAM,CAACV,MAAM,CAACK,OAAO,CAACG,IAAI,CAAC;QAC3C,OAAOZ,KAAK;MACd;IAEA,KAAM,gCAA+B;MAAE;QACrCA,KAAK,CAACG,UAAU,CAACW,MAAM,CAACV,MAAM,CAACK,OAAO,CAACE,IAAI,CAAC;QAC5C,OAAOX,KAAK;MACd;IAEA;MACE,OAAOA,KAAK;EAAA;AAElB,CAAC;AAAA"}