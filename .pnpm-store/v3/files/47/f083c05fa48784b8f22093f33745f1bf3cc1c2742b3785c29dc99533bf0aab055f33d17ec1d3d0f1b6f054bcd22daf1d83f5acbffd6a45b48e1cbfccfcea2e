{"version":3,"file":"lock-body.js","names":["previousBodyPaddingRight","previousBodyOverflowSetting","activeLocks","lock","setTimeout","scrollBarGap","window","innerWidth","document","documentElement","clientWidth","rootElement","getElementById","body","style","paddingRight","overflow","setAttribute","unlock","removeAttribute","undefined"],"sources":["../../../fast-refresh-overlay/helpers/lock-body.js"],"sourcesContent":["// Adapted from https://github.com/vercel/next.js\n// License: MIT\n// Copyright (c) 2021 Vercel, Inc.\n//\n// Entrypoint: react-dev-overlay/src/internal/components/Overlay/body-locker.ts\n\nlet previousBodyPaddingRight\nlet previousBodyOverflowSetting\n\nlet activeLocks = 0\n\nexport function lock() {\n  setTimeout(() => {\n    if (activeLocks++ > 0) {\n      return\n    }\n\n    const scrollBarGap =\n      window.innerWidth - document.documentElement.clientWidth\n    const rootElement = document.getElementById(`___gatsby`)\n\n    if (scrollBarGap > 0) {\n      previousBodyPaddingRight = document.body.style.paddingRight\n      document.body.style.paddingRight = `${scrollBarGap}px`\n    }\n\n    previousBodyOverflowSetting = document.body.style.overflow\n    document.body.style.overflow = `hidden`\n    rootElement.setAttribute(`aria-hidden`, `true`)\n  })\n}\n\nexport function unlock() {\n  setTimeout(() => {\n    if (activeLocks === 0 || --activeLocks !== 0) {\n      return\n    }\n\n    const rootElement = document.getElementById(`___gatsby`)\n    rootElement.removeAttribute(`aria-hidden`)\n\n    if (previousBodyPaddingRight !== undefined) {\n      document.body.style.paddingRight = previousBodyPaddingRight\n      previousBodyPaddingRight = undefined\n    }\n\n    if (previousBodyOverflowSetting !== undefined) {\n      document.body.style.overflow = previousBodyOverflowSetting\n      previousBodyOverflowSetting = undefined\n    }\n  })\n}\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,wBAAwB;AAC5B,IAAIC,2BAA2B;AAE/B,IAAIC,WAAW,GAAG,CAAC;AAEZ,SAASC,IAAI,GAAG;EACrBC,UAAU,CAAC,MAAM;IACf,IAAIF,WAAW,EAAE,GAAG,CAAC,EAAE;MACrB;IACF;IAEA,MAAMG,YAAY,GAChBC,MAAM,CAACC,UAAU,GAAGC,QAAQ,CAACC,eAAe,CAACC,WAAW;IAC1D,MAAMC,WAAW,GAAGH,QAAQ,CAACI,cAAc,CAAE,WAAU,CAAC;IAExD,IAAIP,YAAY,GAAG,CAAC,EAAE;MACpBL,wBAAwB,GAAGQ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACC,YAAY;MAC3DP,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACC,YAAY,GAAI,GAAEV,YAAa,IAAG;IACxD;IAEAJ,2BAA2B,GAAGO,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACE,QAAQ;IAC1DR,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACE,QAAQ,GAAI,QAAO;IACvCL,WAAW,CAACM,YAAY,CAAE,aAAY,EAAG,MAAK,CAAC;EACjD,CAAC,CAAC;AACJ;AAEO,SAASC,MAAM,GAAG;EACvBd,UAAU,CAAC,MAAM;IACf,IAAIF,WAAW,KAAK,CAAC,IAAI,EAAEA,WAAW,KAAK,CAAC,EAAE;MAC5C;IACF;IAEA,MAAMS,WAAW,GAAGH,QAAQ,CAACI,cAAc,CAAE,WAAU,CAAC;IACxDD,WAAW,CAACQ,eAAe,CAAE,aAAY,CAAC;IAE1C,IAAInB,wBAAwB,KAAKoB,SAAS,EAAE;MAC1CZ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACC,YAAY,GAAGf,wBAAwB;MAC3DA,wBAAwB,GAAGoB,SAAS;IACtC;IAEA,IAAInB,2BAA2B,KAAKmB,SAAS,EAAE;MAC7CZ,QAAQ,CAACK,IAAI,CAACC,KAAK,CAACE,QAAQ,GAAGf,2BAA2B;MAC1DA,2BAA2B,GAAGmB,SAAS;IACzC;EACF,CAAC,CAAC;AACJ"}