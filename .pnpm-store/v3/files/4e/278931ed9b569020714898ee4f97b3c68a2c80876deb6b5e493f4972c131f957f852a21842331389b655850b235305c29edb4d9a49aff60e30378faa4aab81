{"version":3,"file":"index.js","names":["validateEngines","directory","worker","WorkerPool","require","resolve","numWorkers","env","GATSBY_OPEN_TRACING_CONFIG_FILE","silent","single","validate","end"],"sources":["../../../src/utils/validate-engines/index.ts"],"sourcesContent":["import { WorkerPool } from \"gatsby-worker\"\n\nexport async function validateEngines(directory: string): Promise<void> {\n  const worker = new WorkerPool<typeof import(\"./child\")>(\n    require.resolve(`./child`),\n    {\n      numWorkers: 1,\n      env: {\n        // Do not \"inherit\" this env var for validation,\n        // as otherwise validation will fail on any imports\n        // that OpenTracing config might make\n        GATSBY_OPEN_TRACING_CONFIG_FILE: ``,\n      },\n      silent: true,\n    }\n  )\n\n  try {\n    await worker.single.validate(directory)\n  } finally {\n    worker.end()\n  }\n}\n"],"mappings":";;;;AAAA;AAEO,eAAeA,eAAe,CAACC,SAAiB,EAAiB;EACtE,MAAMC,MAAM,GAAG,IAAIC,wBAAU,CAC3BC,OAAO,CAACC,OAAO,CAAE,SAAQ,CAAC,EAC1B;IACEC,UAAU,EAAE,CAAC;IACbC,GAAG,EAAE;MACH;MACA;MACA;MACAC,+BAA+B,EAAG;IACpC,CAAC;IACDC,MAAM,EAAE;EACV,CAAC,CACF;EAED,IAAI;IACF,MAAMP,MAAM,CAACQ,MAAM,CAACC,QAAQ,CAACV,SAAS,CAAC;EACzC,CAAC,SAAS;IACRC,MAAM,CAACU,GAAG,EAAE;EACd;AACF"}