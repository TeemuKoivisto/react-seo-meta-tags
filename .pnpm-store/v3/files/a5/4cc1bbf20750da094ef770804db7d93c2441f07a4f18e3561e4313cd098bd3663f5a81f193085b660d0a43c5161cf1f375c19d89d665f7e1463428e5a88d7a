{"version":3,"file":"build-error.js","names":["BuildError","error","decoded","prettifyStack","filePath","file","content","split","lineMatch","match","line","openInEditor"],"sources":["../../../fast-refresh-overlay/components/build-error.js"],"sourcesContent":["import * as React from \"react\"\nimport { Overlay, Header, Body, Footer, HeaderOpenClose } from \"./overlay\"\nimport { CodeFrame } from \"./code-frame\"\nimport { prettifyStack, openInEditor } from \"../utils\"\n\n// Error that is thrown on e.g. webpack errors and thus can't be dismissed and must be fixed\nexport function BuildError({ error }) {\n  // Incoming build error shape is like this:\n  // Sometimes \"Enter\"\n  // ./relative-path-to-file\n  // Additional information (sometimes empty line => handled in \"prettifyStack\" function)\n  // /absolute-path-to-file\n  // Errors/Warnings\n  const decoded = prettifyStack(error)\n  const [filePath] = decoded\n  const file = filePath.content.split(`\\n`)[0]\n  const lineMatch = filePath.content.match(/\\((\\d+)[^)]+\\)/)\n  let line = 1\n\n  if (lineMatch) {\n    line = lineMatch[1]\n  }\n\n  return (\n    <Overlay>\n      <Header data-gatsby-error-type=\"build-error\">\n        <div data-gatsby-overlay=\"header__cause-file\">\n          <h1 id=\"gatsby-overlay-labelledby\">Failed to compile</h1>\n          <span>{file}</span>\n        </div>\n        <HeaderOpenClose\n          open={() => openInEditor(file, line)}\n          dismiss={false}\n        />\n      </Header>\n      <Body>\n        <h2>Source</h2>\n        <CodeFrame decoded={decoded} />\n        <Footer id=\"gatsby-overlay-describedby\">\n          This error occurred during the build process and can only be dismissed\n          by fixing the error.\n        </Footer>\n      </Body>\n    </Overlay>\n  )\n}\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AAAsD;AAAA;AAEtD;AACO,SAASA,UAAU,CAAC;EAAEC;AAAM,CAAC,EAAE;EACpC;EACA;EACA;EACA;EACA;EACA;EACA,MAAMC,OAAO,GAAG,IAAAC,oBAAa,EAACF,KAAK,CAAC;EACpC,MAAM,CAACG,QAAQ,CAAC,GAAGF,OAAO;EAC1B,MAAMG,IAAI,GAAGD,QAAQ,CAACE,OAAO,CAACC,KAAK,CAAE,IAAG,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAMC,SAAS,GAAGJ,QAAQ,CAACE,OAAO,CAACG,KAAK,CAAC,gBAAgB,CAAC;EAC1D,IAAIC,IAAI,GAAG,CAAC;EAEZ,IAAIF,SAAS,EAAE;IACbE,IAAI,GAAGF,SAAS,CAAC,CAAC,CAAC;EACrB;EAEA,oBACE,oBAAC,gBAAO,qBACN,oBAAC,eAAM;IAAC,0BAAuB;EAAa,gBAC1C;IAAK,uBAAoB;EAAoB,gBAC3C;IAAI,EAAE,EAAC;EAA2B,GAAC,mBAAiB,CAAK,eACzD,kCAAOH,IAAI,CAAQ,CACf,eACN,oBAAC,wBAAe;IACd,IAAI,EAAE,MAAM,IAAAM,mBAAY,EAACN,IAAI,EAAEK,IAAI,CAAE;IACrC,OAAO,EAAE;EAAM,EACf,CACK,eACT,oBAAC,aAAI,qBACH,gCAAI,QAAM,CAAK,eACf,oBAAC,oBAAS;IAAC,OAAO,EAAER;EAAQ,EAAG,eAC/B,oBAAC,eAAM;IAAC,EAAE,EAAC;EAA4B,GAAC,6FAGxC,CAAS,CACJ,CACC;AAEd"}