{"version":3,"file":"messaging.js","names":["getGatsbyMessenger","getMessenger"],"sources":["../../../src/utils/worker/messaging.ts"],"sourcesContent":["import { getMessenger, isWorker, IGatsbyWorkerMessenger } from \"gatsby-worker\"\nimport { ReporterMessagesFromChild } from \"gatsby-cli/lib/reporter/types\"\nimport {\n  IJobCreatedMessage,\n  IJobCompletedMessage,\n  MESSAGE_TYPES,\n  InternalJob,\n} from \"../jobs/types\"\n\ninterface IJobFailedSerialized {\n  type: MESSAGE_TYPES.JOB_FAILED\n  payload: {\n    id: InternalJob[\"id\"]\n    error: string\n    stack?: string\n  }\n}\n\nexport type MessagesFromParent = IJobCompletedMessage | IJobFailedSerialized\nexport type MessagesFromChild = IJobCreatedMessage | ReporterMessagesFromChild\n\nexport type GatsbyWorkerMessenger = IGatsbyWorkerMessenger<\n  MessagesFromParent,\n  MessagesFromChild\n>\n\nconst getGatsbyMessenger = getMessenger as () =>\n  | GatsbyWorkerMessenger\n  | undefined\n\nexport { isWorker, getGatsbyMessenger as getMessenger }\n"],"mappings":";;;;AAAA;AAA8E;AA0B9E,MAAMA,kBAAkB,GAAGC,0BAEd;AAAA"}