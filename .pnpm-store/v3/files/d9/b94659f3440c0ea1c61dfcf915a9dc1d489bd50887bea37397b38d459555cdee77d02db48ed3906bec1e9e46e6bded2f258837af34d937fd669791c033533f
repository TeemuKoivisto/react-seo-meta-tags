{"version":3,"file":"babel-parse-to-ast.js","names":["PARSER_OPTIONS","allowImportExportEverywhere","allowReturnOutsideFunction","allowSuperOutsideMethod","sourceType","plugins","decoratorsBeforeExport","proposal","getBabelParserOptions","filePath","test","map","plugin","babelParseToAst","contents","parse"],"sources":["../../src/utils/babel-parse-to-ast.ts"],"sourcesContent":["import { parse, ParserOptions } from \"@babel/parser\"\nimport { File } from \"@babel/types\"\n\nconst PARSER_OPTIONS: ParserOptions = {\n  allowImportExportEverywhere: true,\n  allowReturnOutsideFunction: true,\n  allowSuperOutsideMethod: true,\n  sourceType: `unambiguous`,\n  plugins: [\n    `jsx`,\n    `flow`,\n    `doExpressions`,\n    `objectRestSpread`,\n    [\n      `decorators`,\n      {\n        decoratorsBeforeExport: true,\n      },\n    ],\n    `classProperties`,\n    `classPrivateProperties`,\n    `classPrivateMethods`,\n    `exportDefaultFrom`,\n    `exportNamespaceFrom`,\n    `asyncGenerators`,\n    `functionBind`,\n    `functionSent`,\n    `dynamicImport`,\n    `numericSeparator`,\n    `optionalChaining`,\n    `importMeta`,\n    `bigInt`,\n    `optionalCatchBinding`,\n    `throwExpressions`,\n    [\n      `pipelineOperator`,\n      {\n        proposal: `minimal`,\n      },\n    ],\n    `nullishCoalescingOperator`,\n  ],\n}\n\nexport function getBabelParserOptions(filePath: string): ParserOptions {\n  // Flow and TypeScript plugins can't be enabled simultaneously\n  if (/\\.tsx?/.test(filePath)) {\n    const { plugins } = PARSER_OPTIONS\n    return {\n      ...PARSER_OPTIONS,\n      plugins: plugins!.map(plugin =>\n        plugin === `flow` ? `typescript` : plugin\n      ),\n    }\n  }\n  return PARSER_OPTIONS\n}\n\nexport function babelParseToAst(contents: string, filePath: string): File {\n  return parse(contents, getBabelParserOptions(filePath))\n}\n"],"mappings":";;;;;AAAA;AAGA,MAAMA,cAA6B,GAAG;EACpCC,2BAA2B,EAAE,IAAI;EACjCC,0BAA0B,EAAE,IAAI;EAChCC,uBAAuB,EAAE,IAAI;EAC7BC,UAAU,EAAG,aAAY;EACzBC,OAAO,EAAE,CACN,KAAI,EACJ,MAAK,EACL,eAAc,EACd,kBAAiB,EAClB,CACG,YAAW,EACZ;IACEC,sBAAsB,EAAE;EAC1B,CAAC,CACF,EACA,iBAAgB,EAChB,wBAAuB,EACvB,qBAAoB,EACpB,mBAAkB,EAClB,qBAAoB,EACpB,iBAAgB,EAChB,cAAa,EACb,cAAa,EACb,eAAc,EACd,kBAAiB,EACjB,kBAAiB,EACjB,YAAW,EACX,QAAO,EACP,sBAAqB,EACrB,kBAAiB,EAClB,CACG,kBAAiB,EAClB;IACEC,QAAQ,EAAG;EACb,CAAC,CACF,EACA,2BAA0B;AAE/B,CAAC;AAEM,SAASC,qBAAqB,CAACC,QAAgB,EAAiB;EACrE;EACA,IAAI,QAAQ,CAACC,IAAI,CAACD,QAAQ,CAAC,EAAE;IAC3B,MAAM;MAAEJ;IAAQ,CAAC,GAAGL,cAAc;IAClC,OAAO;MACL,GAAGA,cAAc;MACjBK,OAAO,EAAEA,OAAO,CAAEM,GAAG,CAACC,MAAM,IAC1BA,MAAM,KAAM,MAAK,GAAI,YAAW,GAAGA,MAAM;IAE7C,CAAC;EACH;EACA,OAAOZ,cAAc;AACvB;AAEO,SAASa,eAAe,CAACC,QAAgB,EAAEL,QAAgB,EAAQ;EACxE,OAAO,IAAAM,aAAK,EAACD,QAAQ,EAAEN,qBAAqB,CAACC,QAAQ,CAAC,CAAC;AACzD"}