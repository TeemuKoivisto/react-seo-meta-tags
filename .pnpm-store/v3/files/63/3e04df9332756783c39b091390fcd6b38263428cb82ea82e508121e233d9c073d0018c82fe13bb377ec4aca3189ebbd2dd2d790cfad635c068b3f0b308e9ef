{"version":3,"file":"page-renderer.js","names":["PageRenderer","props","pageComponentProps","params","grabMatchParams","location","pathname","pageResources","json","pageContext","__params","preferDefault","m","default","pageElement","partialHydration","createElement","component","key","path","page","pageComponent","head","headHandlerForBrowser","staticQueryResults","wrappedPage","apiRunner","element","result","pop","propTypes","PropTypes","object","isRequired","data"],"sources":["../page-renderer.js"],"sourcesContent":["import React, { Suspense, createElement } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport { grabMatchParams } from \"./find-path\"\nimport { headHandlerForBrowser } from \"./head/head-export-handler-for-browser\"\n\n// Renders page\nfunction PageRenderer(props) {\n  const pageComponentProps = {\n    ...props,\n    params: {\n      ...grabMatchParams(props.location.pathname),\n      ...props.pageResources.json.pageContext.__params,\n    },\n  }\n\n  const preferDefault = m => (m && m.default) || m\n\n  let pageElement\n  if (props.pageResources.partialHydration) {\n    pageElement = props.pageResources.partialHydration\n  } else {\n    pageElement = createElement(preferDefault(props.pageResources.component), {\n      ...pageComponentProps,\n      key: props.path || props.pageResources.page.path,\n    })\n  }\n\n  const pageComponent = props.pageResources.head\n\n  headHandlerForBrowser({\n    pageComponent,\n    staticQueryResults: props.pageResources.staticQueryResults,\n    pageComponentProps,\n  })\n\n  const wrappedPage = apiRunner(\n    `wrapPageElement`,\n    {\n      element: pageElement,\n      props: pageComponentProps,\n    },\n    pageElement,\n    ({ result }) => {\n      return { element: result, props: pageComponentProps }\n    }\n  ).pop()\n\n  return wrappedPage\n}\n\nPageRenderer.propTypes = {\n  location: PropTypes.object.isRequired,\n  pageResources: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  pageContext: PropTypes.object.isRequired,\n}\n\nexport default PageRenderer\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AAA8E;AAAA;AAE9E;AACA,SAASA,YAAY,CAACC,KAAK,EAAE;EAC3B,MAAMC,kBAAkB,GAAG;IACzB,GAAGD,KAAK;IACRE,MAAM,EAAE;MACN,GAAG,IAAAC,yBAAe,EAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ,CAAC;MAC3C,GAAGL,KAAK,CAACM,aAAa,CAACC,IAAI,CAACC,WAAW,CAACC;IAC1C;EACF,CAAC;EAED,MAAMC,aAAa,GAAGC,CAAC,IAAKA,CAAC,IAAIA,CAAC,CAACC,OAAO,IAAKD,CAAC;EAEhD,IAAIE,WAAW;EACf,IAAIb,KAAK,CAACM,aAAa,CAACQ,gBAAgB,EAAE;IACxCD,WAAW,GAAGb,KAAK,CAACM,aAAa,CAACQ,gBAAgB;EACpD,CAAC,MAAM;IACLD,WAAW,gBAAG,IAAAE,oBAAa,EAACL,aAAa,CAACV,KAAK,CAACM,aAAa,CAACU,SAAS,CAAC,EAAE;MACxE,GAAGf,kBAAkB;MACrBgB,GAAG,EAAEjB,KAAK,CAACkB,IAAI,IAAIlB,KAAK,CAACM,aAAa,CAACa,IAAI,CAACD;IAC9C,CAAC,CAAC;EACJ;EAEA,MAAME,aAAa,GAAGpB,KAAK,CAACM,aAAa,CAACe,IAAI;EAE9C,IAAAC,kDAAqB,EAAC;IACpBF,aAAa;IACbG,kBAAkB,EAAEvB,KAAK,CAACM,aAAa,CAACiB,kBAAkB;IAC1DtB;EACF,CAAC,CAAC;EAEF,MAAMuB,WAAW,GAAG,IAAAC,2BAAS,EAC1B,iBAAgB,EACjB;IACEC,OAAO,EAAEb,WAAW;IACpBb,KAAK,EAAEC;EACT,CAAC,EACDY,WAAW,EACX,CAAC;IAAEc;EAAO,CAAC,KAAK;IACd,OAAO;MAAED,OAAO,EAAEC,MAAM;MAAE3B,KAAK,EAAEC;IAAmB,CAAC;EACvD,CAAC,CACF,CAAC2B,GAAG,EAAE;EAEP,OAAOJ,WAAW;AACpB;AAEAzB,YAAY,CAAC8B,SAAS,GAAG;EACvBzB,QAAQ,EAAE0B,kBAAS,CAACC,MAAM,CAACC,UAAU;EACrC1B,aAAa,EAAEwB,kBAAS,CAACC,MAAM,CAACC,UAAU;EAC1CC,IAAI,EAAEH,kBAAS,CAACC,MAAM;EACtBvB,WAAW,EAAEsB,kBAAS,CAACC,MAAM,CAACC;AAChC,CAAC;AAAA,eAEcjC,YAAY;AAAA"}