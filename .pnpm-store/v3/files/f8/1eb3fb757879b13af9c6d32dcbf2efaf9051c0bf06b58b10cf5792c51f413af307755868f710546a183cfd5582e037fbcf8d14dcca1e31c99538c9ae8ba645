{"version":3,"file":"shadow-portal.js","names":["ShadowPortal","children","identifier","mountNode","React","useRef","portalNode","shadowNode","forceUpdate","useState","useLayoutEffect","ownerDocument","current","createElement","attachShadow","mode","body","appendChild","removeChild","createPortal"],"sources":["../shadow-portal.js"],"sourcesContent":["import * as React from \"react\"\nimport { createPortal } from \"react-dom\"\n\nexport const ShadowPortal = ({ children, identifier }) => {\n  const mountNode = React.useRef(null)\n  const portalNode = React.useRef(null)\n  const shadowNode = React.useRef(null)\n  const [, forceUpdate] = React.useState()\n\n  React.useLayoutEffect(() => {\n    const ownerDocument = mountNode.current.ownerDocument\n    portalNode.current = ownerDocument.createElement(identifier)\n    shadowNode.current = portalNode.current.attachShadow({ mode: `open` })\n    ownerDocument.body.appendChild(portalNode.current)\n    forceUpdate({})\n    return () => {\n      if (portalNode.current && portalNode.current.ownerDocument) {\n        portalNode.current.ownerDocument.body.removeChild(portalNode.current)\n      }\n    }\n  }, [])\n\n  return shadowNode.current ? (\n    createPortal(children, shadowNode.current)\n  ) : (\n    <span ref={mountNode} />\n  )\n}\n"],"mappings":";;;;AAAA;AACA;AAAwC;AAAA;AAEjC,MAAMA,YAAY,GAAG,CAAC;EAAEC,QAAQ;EAAEC;AAAW,CAAC,KAAK;EACxD,MAAMC,SAAS,GAAGC,KAAK,CAACC,MAAM,CAAC,IAAI,CAAC;EACpC,MAAMC,UAAU,GAAGF,KAAK,CAACC,MAAM,CAAC,IAAI,CAAC;EACrC,MAAME,UAAU,GAAGH,KAAK,CAACC,MAAM,CAAC,IAAI,CAAC;EACrC,MAAM,GAAGG,WAAW,CAAC,GAAGJ,KAAK,CAACK,QAAQ,EAAE;EAExCL,KAAK,CAACM,eAAe,CAAC,MAAM;IAC1B,MAAMC,aAAa,GAAGR,SAAS,CAACS,OAAO,CAACD,aAAa;IACrDL,UAAU,CAACM,OAAO,GAAGD,aAAa,CAACE,aAAa,CAACX,UAAU,CAAC;IAC5DK,UAAU,CAACK,OAAO,GAAGN,UAAU,CAACM,OAAO,CAACE,YAAY,CAAC;MAAEC,IAAI,EAAG;IAAM,CAAC,CAAC;IACtEJ,aAAa,CAACK,IAAI,CAACC,WAAW,CAACX,UAAU,CAACM,OAAO,CAAC;IAClDJ,WAAW,CAAC,CAAC,CAAC,CAAC;IACf,OAAO,MAAM;MACX,IAAIF,UAAU,CAACM,OAAO,IAAIN,UAAU,CAACM,OAAO,CAACD,aAAa,EAAE;QAC1DL,UAAU,CAACM,OAAO,CAACD,aAAa,CAACK,IAAI,CAACE,WAAW,CAACZ,UAAU,CAACM,OAAO,CAAC;MACvE;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,OAAOL,UAAU,CAACK,OAAO,gBACvB,IAAAO,sBAAY,EAAClB,QAAQ,EAAEM,UAAU,CAACK,OAAO,CAAC,gBAE1C;IAAM,GAAG,EAAET;EAAU,EACtB;AACH,CAAC;AAAA"}