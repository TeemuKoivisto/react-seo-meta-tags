{"version":3,"file":"local-eslint-config-finder.js","names":["log","debug","hasLocalEslint","directory","pkg","require","path","resolve","eslintConfig","err","report","error","eslintFiles","glob","sync","cwd","length"],"sources":["../../src/utils/local-eslint-config-finder.ts"],"sourcesContent":["import path from \"path\"\nimport glob from \"glob\"\nimport debug from \"debug\"\nimport report from \"gatsby-cli/lib/reporter\"\n\nconst log = debug(`gatsby:webpack-eslint-config`)\n\nexport const hasLocalEslint = (directory: string): boolean => {\n  try {\n    log(`Attempting to load package.json for eslint config check`)\n\n    const pkg = require(path.resolve(directory, `package.json`))\n    if (pkg.eslintConfig) {\n      return true\n    }\n  } catch (err) {\n    report.error(`There was a problem processing the package.json file`, err)\n  }\n\n  log(`Checking for eslint config file`)\n  const eslintFiles = glob.sync(`.eslintrc?(.js|.json|.yaml|.yml)`, {\n    cwd: directory,\n  })\n\n  if (eslintFiles.length) {\n    return true\n  }\n\n  return false\n}\n"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAEA,MAAMA,GAAG,GAAG,IAAAC,cAAK,EAAE,8BAA6B,CAAC;AAE1C,MAAMC,cAAc,GAAIC,SAAiB,IAAc;EAC5D,IAAI;IACFH,GAAG,CAAE,yDAAwD,CAAC;IAE9D,MAAMI,GAAG,GAAGC,OAAO,CAACC,aAAI,CAACC,OAAO,CAACJ,SAAS,EAAG,cAAa,CAAC,CAAC;IAC5D,IAAIC,GAAG,CAACI,YAAY,EAAE;MACpB,OAAO,IAAI;IACb;EACF,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,iBAAM,CAACC,KAAK,CAAE,sDAAqD,EAAEF,GAAG,CAAC;EAC3E;EAEAT,GAAG,CAAE,iCAAgC,CAAC;EACtC,MAAMY,WAAW,GAAGC,aAAI,CAACC,IAAI,CAAE,kCAAiC,EAAE;IAChEC,GAAG,EAAEZ;EACP,CAAC,CAAC;EAEF,IAAIS,WAAW,CAACI,MAAM,EAAE;IACtB,OAAO,IAAI;EACb;EAEA,OAAO,KAAK;AACd,CAAC;AAAA"}