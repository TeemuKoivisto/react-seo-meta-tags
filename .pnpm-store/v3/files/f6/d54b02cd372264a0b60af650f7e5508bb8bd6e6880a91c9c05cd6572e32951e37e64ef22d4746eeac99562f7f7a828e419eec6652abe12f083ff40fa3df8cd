{"version":3,"file":"fast-refresh-module.js","names":["self","_gatsbyEvents","clearCompileError","push","action","clearRuntimeErrors","dismissOverlay","showCompileError","message","payload","showRuntimeErrors","errors","length","isWebpackCompileError","error","test","handleRuntimeError"],"sources":["../../src/utils/fast-refresh-module.ts"],"sourcesContent":["type Channel = \"FAST_REFRESH\"\ntype Event = [\n  Channel,\n  {\n    action: string\n    payload?: any\n  }\n]\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  interface Window {\n    _gatsbyEvents: Array<Event> | { push: (event: Event) => void }\n  }\n}\n\n// Use `self` here instead of `window` so it works in non-window environments (like Workers)\nself._gatsbyEvents = self._gatsbyEvents || []\n\nexport function clearCompileError(): void {\n  self._gatsbyEvents.push([`FAST_REFRESH`, { action: `CLEAR_COMPILE_ERROR` }])\n}\n\nexport function clearRuntimeErrors(dismissOverlay: boolean): void {\n  if (typeof dismissOverlay === `undefined` || dismissOverlay) {\n    self._gatsbyEvents.push([\n      `FAST_REFRESH`,\n      { action: `CLEAR_RUNTIME_ERRORS` },\n    ])\n  }\n}\n\nexport function showCompileError(message): void {\n  if (!message) {\n    return\n  }\n\n  self._gatsbyEvents.push([\n    `FAST_REFRESH`,\n    {\n      action: `SHOW_COMPILE_ERROR`,\n      payload: message,\n    },\n  ])\n}\n\nexport function showRuntimeErrors(errors): void {\n  if (!errors || !errors.length) {\n    return\n  }\n\n  self._gatsbyEvents.push([\n    `FAST_REFRESH`,\n    {\n      action: `SHOW_RUNTIME_ERRORS`,\n      payload: errors,\n    },\n  ])\n}\n\nexport function isWebpackCompileError(error): boolean {\n  return (\n    /Module [A-z ]+\\(from/.test(error.message) ||\n    /Cannot find module/.test(error.message)\n  )\n}\n\nexport function handleRuntimeError(error): void {\n  if (error && !isWebpackCompileError(error)) {\n    self._gatsbyEvents.push([\n      `FAST_REFRESH`,\n      {\n        action: `HANDLE_RUNTIME_ERROR`,\n        payload: [error],\n      },\n    ])\n  }\n}\n"],"mappings":";;;;;;;;;AAgBA;AACAA,IAAI,CAACC,aAAa,GAAGD,IAAI,CAACC,aAAa,IAAI,EAAE;AAEtC,SAASC,iBAAiB,GAAS;EACxCF,IAAI,CAACC,aAAa,CAACE,IAAI,CAAC,CAAE,cAAa,EAAE;IAAEC,MAAM,EAAG;EAAqB,CAAC,CAAC,CAAC;AAC9E;AAEO,SAASC,kBAAkB,CAACC,cAAuB,EAAQ;EAChE,IAAI,OAAOA,cAAc,KAAM,WAAU,IAAIA,cAAc,EAAE;IAC3DN,IAAI,CAACC,aAAa,CAACE,IAAI,CAAC,CACrB,cAAa,EACd;MAAEC,MAAM,EAAG;IAAsB,CAAC,CACnC,CAAC;EACJ;AACF;AAEO,SAASG,gBAAgB,CAACC,OAAO,EAAQ;EAC9C,IAAI,CAACA,OAAO,EAAE;IACZ;EACF;EAEAR,IAAI,CAACC,aAAa,CAACE,IAAI,CAAC,CACrB,cAAa,EACd;IACEC,MAAM,EAAG,oBAAmB;IAC5BK,OAAO,EAAED;EACX,CAAC,CACF,CAAC;AACJ;AAEO,SAASE,iBAAiB,CAACC,MAAM,EAAQ;EAC9C,IAAI,CAACA,MAAM,IAAI,CAACA,MAAM,CAACC,MAAM,EAAE;IAC7B;EACF;EAEAZ,IAAI,CAACC,aAAa,CAACE,IAAI,CAAC,CACrB,cAAa,EACd;IACEC,MAAM,EAAG,qBAAoB;IAC7BK,OAAO,EAAEE;EACX,CAAC,CACF,CAAC;AACJ;AAEO,SAASE,qBAAqB,CAACC,KAAK,EAAW;EACpD,OACE,sBAAsB,CAACC,IAAI,CAACD,KAAK,CAACN,OAAO,CAAC,IAC1C,oBAAoB,CAACO,IAAI,CAACD,KAAK,CAACN,OAAO,CAAC;AAE5C;AAEO,SAASQ,kBAAkB,CAACF,KAAK,EAAQ;EAC9C,IAAIA,KAAK,IAAI,CAACD,qBAAqB,CAACC,KAAK,CAAC,EAAE;IAC1Cd,IAAI,CAACC,aAAa,CAACE,IAAI,CAAC,CACrB,cAAa,EACd;MACEC,MAAM,EAAG,sBAAqB;MAC9BK,OAAO,EAAE,CAACK,KAAK;IACjB,CAAC,CACF,CAAC;EACJ;AACF"}