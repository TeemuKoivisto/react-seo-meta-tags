{"version":3,"file":"render-dev-html-child.js","names":["renderHTML","path","componentPath","htmlComponentRendererPath","publicDir","isClientOnlyPage","error","undefined","directory","serverData","htmlComponentRenderer","require","process","env","GATSBY_EXPERIMENTAL_DEV_SSR","default","pagePath","err","parseError","deleteModuleCache","cache","resolve"],"sources":["../../../src/utils/dev-ssr/render-dev-html-child.ts"],"sourcesContent":["import { parseError, IErrorRenderMeta } from \"./parse-error\"\n\nimport type { IServerData } from \"../get-server-data\"\n\nexport async function renderHTML({\n  path,\n  componentPath,\n  htmlComponentRendererPath,\n  publicDir,\n  isClientOnlyPage = false,\n  error = undefined,\n  directory,\n  serverData,\n}: {\n  path: string\n  componentPath: string\n  htmlComponentRendererPath: string\n  publicDir: string\n  isClientOnlyPage?: boolean\n  error?: IErrorRenderMeta\n  directory: string\n  serverData?: IServerData[\"props\"]\n}): Promise<string> {\n  try {\n    const htmlComponentRenderer = require(htmlComponentRendererPath)\n    if (process.env.GATSBY_EXPERIMENTAL_DEV_SSR) {\n      return await htmlComponentRenderer.default({\n        pagePath: path,\n        isClientOnlyPage,\n        publicDir,\n        error,\n        serverData,\n      })\n    } else {\n      return await htmlComponentRenderer.default({\n        pagePath: path,\n        publicDir,\n        isClientOnlyPage: true,\n      })\n    }\n  } catch (err) {\n    const error = parseError({\n      err,\n      directory,\n      componentPath,\n      htmlComponentRendererPath,\n    })\n    throw error\n  }\n}\nexport function deleteModuleCache(htmlComponentRendererPath: string): void {\n  delete require.cache[require.resolve(htmlComponentRendererPath)]\n}\n"],"mappings":";;;;;AAAA;AAIO,eAAeA,UAAU,CAAC;EAC/BC,IAAI;EACJC,aAAa;EACbC,yBAAyB;EACzBC,SAAS;EACTC,gBAAgB,GAAG,KAAK;EACxBC,KAAK,GAAGC,SAAS;EACjBC,SAAS;EACTC;AAUF,CAAC,EAAmB;EAClB,IAAI;IACF,MAAMC,qBAAqB,GAAGC,OAAO,CAACR,yBAAyB,CAAC;IAChE,IAAIS,OAAO,CAACC,GAAG,CAACC,2BAA2B,EAAE;MAC3C,OAAO,MAAMJ,qBAAqB,CAACK,OAAO,CAAC;QACzCC,QAAQ,EAAEf,IAAI;QACdI,gBAAgB;QAChBD,SAAS;QACTE,KAAK;QACLG;MACF,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,OAAO,MAAMC,qBAAqB,CAACK,OAAO,CAAC;QACzCC,QAAQ,EAAEf,IAAI;QACdG,SAAS;QACTC,gBAAgB,EAAE;MACpB,CAAC,CAAC;IACJ;EACF,CAAC,CAAC,OAAOY,GAAG,EAAE;IACZ,MAAMX,KAAK,GAAG,IAAAY,sBAAU,EAAC;MACvBD,GAAG;MACHT,SAAS;MACTN,aAAa;MACbC;IACF,CAAC,CAAC;IACF,MAAMG,KAAK;EACb;AACF;AACO,SAASa,iBAAiB,CAAChB,yBAAiC,EAAQ;EACzE,OAAOQ,OAAO,CAACS,KAAK,CAACT,OAAO,CAACU,OAAO,CAAClB,yBAAyB,CAAC,CAAC;AAClE"}