{"version":3,"file":"create-hash.js","names":["createFileContentHash","root","globPattern","hash","crypto","createHash","files","glob","sync","nodir","forEach","filepath","update","fs","readFileSync","digest"],"sources":["../../../../src/bootstrap/load-plugins/utils/create-hash.ts"],"sourcesContent":["import fs from \"fs\"\nimport crypto from \"crypto\"\nimport glob from \"glob\"\n\nexport function createFileContentHash(\n  root: string,\n  globPattern: string\n): string {\n  // TODO: Use hash-wasm\n  const hash = crypto.createHash(`md5`)\n  const files = glob.sync(`${root}/${globPattern}`, { nodir: true })\n\n  files.forEach(filepath => {\n    hash.update(fs.readFileSync(filepath))\n  })\n\n  return hash.digest(`hex`)\n}\n"],"mappings":";;;;;AAAA;AACA;AACA;AAEO,SAASA,qBAAqB,CACnCC,IAAY,EACZC,WAAmB,EACX;EACR;EACA,MAAMC,IAAI,GAAGC,eAAM,CAACC,UAAU,CAAE,KAAI,CAAC;EACrC,MAAMC,KAAK,GAAGC,aAAI,CAACC,IAAI,CAAE,GAAEP,IAAK,IAAGC,WAAY,EAAC,EAAE;IAAEO,KAAK,EAAE;EAAK,CAAC,CAAC;EAElEH,KAAK,CAACI,OAAO,CAACC,QAAQ,IAAI;IACxBR,IAAI,CAACS,MAAM,CAACC,WAAE,CAACC,YAAY,CAACH,QAAQ,CAAC,CAAC;EACxC,CAAC,CAAC;EAEF,OAAOR,IAAI,CAACY,MAAM,CAAE,KAAI,CAAC;AAC3B"}