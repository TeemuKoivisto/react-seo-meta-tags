{"version":3,"file":"listen-to-webpack.js","names":["createWebpackWatcher","compiler","callback","hooks","invalid","tap","file","reporter","verbose","type"],"sources":["../../src/services/listen-to-webpack.ts"],"sourcesContent":["import { Compiler } from \"webpack\"\nimport { InvokeCallback } from \"xstate\"\nimport reporter from \"gatsby-cli/lib/reporter\"\n\nexport const createWebpackWatcher =\n  (compiler: Compiler): InvokeCallback =>\n  (callback): void => {\n    compiler.hooks.invalid.tap(`file invalidation`, file => {\n      reporter.verbose(`Webpack file changed: ${file}`)\n      callback({ type: `SOURCE_FILE_CHANGED`, file })\n    })\n  }\n"],"mappings":";;;;;AAEA;AAEO,MAAMA,oBAAoB,GAC9BC,QAAkB,IAClBC,QAAQ,IAAW;EAClBD,QAAQ,CAACE,KAAK,CAACC,OAAO,CAACC,GAAG,CAAE,mBAAkB,EAAEC,IAAI,IAAI;IACtDC,iBAAQ,CAACC,OAAO,CAAE,yBAAwBF,IAAK,EAAC,CAAC;IACjDJ,QAAQ,CAAC;MAAEO,IAAI,EAAG,qBAAoB;MAAEH;IAAK,CAAC,CAAC;EACjD,CAAC,CAAC;AACJ,CAAC;AAAA"}