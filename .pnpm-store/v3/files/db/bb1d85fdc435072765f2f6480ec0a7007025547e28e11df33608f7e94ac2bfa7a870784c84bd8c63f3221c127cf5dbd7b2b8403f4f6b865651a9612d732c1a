{"version":3,"file":"write-out-requires.js","names":["writeOutRequires","store","parentSpan","assertStore","activity","reporter","activityTimer","start","writeAll","getState","err","panic","end"],"sources":["../../src/services/write-out-requires.ts"],"sourcesContent":["import reporter from \"gatsby-cli/lib/reporter\"\nimport { writeAll } from \"../bootstrap/requires-writer\"\nimport { IQueryRunningContext } from \"../state-machines/query-running/types\"\nimport { assertStore } from \"../utils/assert-store\"\n\nexport async function writeOutRequires({\n  store,\n  parentSpan,\n}: Partial<IQueryRunningContext>): Promise<void> {\n  assertStore(store)\n\n  // Write out files.\n  const activity = reporter.activityTimer(`write out requires`, {\n    parentSpan,\n  })\n  activity.start()\n  try {\n    await writeAll(store.getState())\n  } catch (err) {\n    reporter.panic(`Failed to write out requires`, err)\n  }\n  activity.end()\n}\n"],"mappings":";;;;;AAAA;AACA;AAEA;AAEO,eAAeA,gBAAgB,CAAC;EACrCC,KAAK;EACLC;AAC6B,CAAC,EAAiB;EAC/C,IAAAC,wBAAW,EAACF,KAAK,CAAC;;EAElB;EACA,MAAMG,QAAQ,GAAGC,iBAAQ,CAACC,aAAa,CAAE,oBAAmB,EAAE;IAC5DJ;EACF,CAAC,CAAC;EACFE,QAAQ,CAACG,KAAK,EAAE;EAChB,IAAI;IACF,MAAM,IAAAC,wBAAQ,EAACP,KAAK,CAACQ,QAAQ,EAAE,CAAC;EAClC,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZL,iBAAQ,CAACM,KAAK,CAAE,8BAA6B,EAAED,GAAG,CAAC;EACrD;EACAN,QAAQ,CAACQ,GAAG,EAAE;AAChB"}